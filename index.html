<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Yii2-angular : &quot;But wait,&quot; you say, &quot;Yii is too magical!&quot;">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Yii2-angular</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/vybeauregard/Yii2-angular">View on GitHub</a>

          <h1 id="project_title">Yii2-angular</h1>
          <h2 id="project_tagline">&quot;But wait,&quot; you say, &quot;Yii is too magical!&quot;</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/vybeauregard/Yii2-angular/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/vybeauregard/Yii2-angular/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="yii2-angular" class="anchor" href="#yii2-angular" aria-hidden="true"><span class="octicon octicon-link"></span></a>Yii2-angular</h1>

<h4>
<a id="but-wait-you-say-yii-is-too-magical" class="anchor" href="#but-wait-you-say-yii-is-too-magical" aria-hidden="true"><span class="octicon octicon-link"></span></a>"But wait," you say, "Yii is too magical!"</h4>

<p>You're right. Sort of. The magic is in everything Yii does under the covers. And while all of the forms and pages that Gii generates are handy, sometimes they won't <em>quite</em> fit your needs. Especially when you're mixing and mashing up different models in different ways.</p>

<p>But still, the rigid MVC architecture is nice to have and makes reading from and writing to the database <del>DROP TABLE</del> drop-dead easy. This part of it is worth hanging on to.</p>

<p>So how do we roll our own interface <em>and</em> integrate Yii's fancy MVC architecture?</p>

<p>I've been using a two-pronged approach and it's proven to be quite flexible:</p>

<h2>
<a id="yiis-rest-service-with-angularjs" class="anchor" href="#yiis-rest-service-with-angularjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Yii's REST service with Angular.js</h2>

<h4>
<a id="hang-on-there-mæstro-isnt-angular-overcomplicating-things" class="anchor" href="#hang-on-there-m%C3%A6stro-isnt-angular-overcomplicating-things" aria-hidden="true"><span class="octicon octicon-link"></span></a>"Hang on there, Mæstro. Isn't Angular overcomplicating things?"</h4>

<p>Not any more than using Bootstrap or jQuery overcomplicates things. I'll illustrate how they work together as we move along.</p>

<blockquote>
<p><a href="http://youtu.be/DJLDF6qZUX0#t=5">Two great tastes that taste great together!</a></p>
</blockquote>

<p>While we won't need get into which of the two is Chocolate and which is Peanut Butter, here's a quick defense of the Yii/Angular approach:</p>

<p>With Yii handling all of your users' requests, every change in data is accompanied with a full page reload. Even with browser caching, that can really slow down the user experience and trigger a ton of redundant server requests. If can we hand off some of the data manipulation to an AJAX-like interface that updates the UI without a full page refresh, we'll end up with a snappier interface and lower network overhead.</p>

<p>Yii is tightly integrated to your database and its models are perfect for providing a RESTful API that returns JSON objects. If you're just learning about <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST</a>, Wikipedia is a good place to start.</p>

<p>To put it briefly, REST allows us to send out small requests and receive a response with each one. When implemented, you can use the actions <code>GET</code>, <code>PUT</code>, <code>POST</code>, and <code>DELETE</code> to act upon the data store.</p>

<p>How does this help us as we build web apps? Because Angular has these actions built in using its <code>$http</code> service, and sends them as <a href="https://en.wikipedia.org/wiki/XMLHttpRequest">XHR</a>. As soon as it receives a response, it updates every single place it's been referenced in the interface with no extra jQuery tricks and tomfoolery, and better still, with just a few KB changing hands.</p>

<h4>
<a id="why-do-you-keep-bashing-jquery" class="anchor" href="#why-do-you-keep-bashing-jquery" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why do you keep bashing jQuery?</h4>

<p>I've got nothing but love for jQuery, but like any tool, it's not always the best solution for the challenge we're presented with. Yes, it <em>can</em> perform XHR, but it does so with a much lower-level approach than Angular and leaves a lot of the mess of wiring everything together to the poor developer.</p>

<h4>
<a id="im-still-skeptical-but-show-me-something-in-action-already" class="anchor" href="#im-still-skeptical-but-show-me-something-in-action-already" aria-hidden="true"><span class="octicon octicon-link"></span></a>I'm still skeptical, but show me something in action already!</h4>

<p>I was about to. Increase your calm.</p>

<pre><code>&lt;html&gt;
  &lt;body ng-app="cupcakes" ng-controller="CupcakeController"&gt;
    . . .
  &lt;/body&gt;
&lt;/html
</code></pre>

<h4>
<a id="ng-app-aint-no-attribute-i-ever-heard-of-what-kind-of-witch-doctor-are-you" class="anchor" href="#ng-app-aint-no-attribute-i-ever-heard-of-what-kind-of-witch-doctor-are-you" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>ng-app</code> ain't no attribute I ever heard of. What kind of witch doctor are you?</h4>

<p>Here's where Angular gets invoked. Any attribute in an html page that starts with <code>ng-</code> is called a directive. As the browser renders the page, Angular takes any <code>ng-</code> attribute and evaluates it as necessary. This keeps your html looking like html while allowing for dynamic data manipulation at the same time.</p>

<p>Directives can take a couple of other forms too:</p>

<pre><code>&lt;html&gt;
  &lt;body ng-app="cupcakes" ng-controller="CupcakeController"&gt;
    &lt;div id="element-directives"&gt;
      &lt;cupcake-name&gt;&lt;/cupcake-name&gt;
      &lt;cupcake-description&gt;&lt;/cupcake-description&gt;
      &lt;cupcake-cake-color&gt;&lt;/cupcake-cake-color&gt;
    &lt;/div&gt;
    &lt;div id="class-directives"&gt;
      &lt;div class="cupcake-name"&gt;&lt;/div&gt;
      &lt;div class="cupcake-description"&gt;&lt;/div&gt;
      &lt;div class="cupcake-cake-color"&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><strong>Element</strong> directives allow you to create your own tags outside the HTML spec. Wacky!</p>

<p><strong>Class</strong> directives allow you to bind data to a container based off its class name. Handy if you need css styles to match the container's contents 100% of the time!</p>

<p>With the appropriate directive setup in your <code>CupcakeController</code>, both of its child <code>div</code>s above should render the same content.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Yii2-angular maintained by <a href="https://github.com/vybeauregard">vybeauregard</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
